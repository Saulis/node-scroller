var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},NodeScroller=function(){function e(e){this.current=0,this.nodeIds=[],this.previousWindowTop=0,this.scrolling=!1;for(var t=0;t<e.length;t++)this.nodeIds[t]=e.item(t).id}return e.prototype.getNode=function(e){return $("#"+e)},e.prototype.getCurrentNode=function(){var e=this.nodeIds[this.current];return this.getNode(e)},e.prototype.hasPrevious=function(){return this.current>0},e.prototype.getPrevious=function(){return this.nodeIds[--this.current]},e.prototype.hasNext=function(){return this.current<this.nodeIds.length-1},e.prototype.windowBottomIsUnderCurrentNode=function(){var e=this.getCurrentNode(),t=$(window).scrollTop()+$(window).height(),n=e.position().top+e.height(),r=100;return t-r>n},e.prototype.windowTopIsOverCurrentNode=function(){var e=this.getCurrentNode(),t=$(window).scrollTop(),n=e.position().top;return t<n},e.prototype.getNext=function(){return this.nodeIds[++this.current]},e.prototype.canScrollToPrevious=function(){return this.hasPrevious()&&this.windowTopIsOverCurrentNode()},e.prototype.canScrollToNext=function(){return this.hasNext()&&this.windowBottomIsUnderCurrentNode()},e.prototype.scrollToPrevious=function(){this.canScrollToPrevious()&&this.scrollTo(this.getPrevious())},e.prototype.scrollToNext=function(){this.canScrollToNext()&&this.scrollTo(this.getNext())},e.prototype.scrollTo=function(e){var t=this.getNode(e).position().top;$(document.body).animate({scrollTop:t},250)},e.prototype.handleOnKeyUp=function(e){switch(e.keyCode){case 40:this.scrollToNext();return;case 38:this.scrollToPrevious();return}},e.prototype.handleOnScroll=function(e){if(this.scrolling)return;this.scrolling=!0;var t=$(window).scrollTop();t>this.previousWindowTop?this.scrollToNext():t<this.previousWindowTop&&this.scrollToPrevious(),this.previousWindowTop=$(window).scrollTop(),this.scrolling=!1},e}(),ParagraphScroller=function(e){function t(){e.call(this,document.body.getElementsByTagName("p"))}return __extends(t,e),t}(NodeScroller);